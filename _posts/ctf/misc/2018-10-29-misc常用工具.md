---
layout: post
title: "miscå¸¸ç”¨å·¥å…·"
date: 2018-10-29 16:18:42 +0800
description: ""
category: ctf/misc
tags: []
mathjax: true
---

## ç®—æ³•å®ç°

#### [ç¼–ç¨‹ä¹‹æ³•ï¼šé¢è¯•å’Œç®—æ³•å¿ƒå¾—](https://github.com/julycoding/The-Art-Of-Programming-By-July/tree/master/ebook/code/python)

ç¨€ç–æ–‡ä»¶è¯»å–ï¼ˆsampleï¼š[Test_your_nc](http://taqini.space/2020/05/28/bjd3rd-testyournc)ï¼ŒBJDctf-2020ï¼‰ï¼š`off_t lseek(int fd, off_t offset, int whence);`å½“whence=SEEK_DATA(3)æ˜¯è·³è¿‡holeå¯»æ‰¾ä¸‹ä¸€ä¸ªæ•°æ®ï¼ŒSEEK_HOLE(4)æ˜¯è·³è¿‡æ•°æ®å¯»æ‰¾ä¸‹ä¸€ä¸ªholeã€‚

## è¾…åŠ©å‘½ä»¤

```sh
xxd -r -ps result.hex > 1.gif #ä»¥postscriptçš„è¿ç»­å°†åå…­è¿›åˆ¶è¾“å‡ºå†…å®¹è½¬æ¢å›åŸæ–‡ä»¶çš„äºŒè¿›åˆ¶å†…å®¹
xxd -b train.ini #ä»¥äºŒè¿›åˆ¶æ ¼å¼è¾“å‡º
0000000: 01011011 01110100 01110010 01100001 01101001 01101110  [train

dd if=longmao.png of=out.png ibs=256953 skip=1 obs=1M #è·³è¿‡è¯»å…¥ç¼“å†²åŒºå¼€å¤´çš„ibs*skipå—
dd if=1.txt of=11.txt bs=2 skip=2 count=2 seek=2 conv=ascii#è¾“å…¥è·³è¿‡ibs*skipï¼Œä»è¾“å‡ºæ–‡ä»¶å¼€å¤´è·³è¿‡obs*seekï¼Œè¾“å‡ºibs*countï¼š1234567890 -> 5678ï¼Œconv=ascii(from EBCDIC to ASCII)ï¼Œconv=ebcdic(from ASCII to EBCDIC)

vim -r .index.php.swp #è¿˜åŸvimç¼“å­˜æ–‡ä»¶

tar -cvfS /var/tmp/flag.tar flag #-Sæˆ–â€”sparse å€˜è‹¥ä¸€ä¸ªæ–‡ä»¶å†…å«å¤§é‡çš„è¿ç»­0å­—èŠ‚ï¼Œåˆ™å°†æ­¤æ–‡ä»¶å­˜æˆç¨€ç–æ–‡ä»¶ã€‚

>trid test.bin #è¯†åˆ«æ–‡ä»¶ç±»å‹ï¼Œhttp://mark0.net/soft-trid-e.html

ciphey -t "ZMJTPM33TL4TRMYRZD3JXAGOZVMJRLWEZMFGFAEIZV2GVMOMZZ3JTZ3RUR2U2==="
```

## éšå†™åˆ†æ

#### åŒå›¾

```sh
>python2 D:\ctf\tools\misc\blindwatermark\bwm.py decode 1.png 2.png flag.png #ç›²æ°´å°
$compare 1.png 2.jpg diff.png
Stegsolve->Analyse->Image Combinerï¼ˆå¯ä¸jpgæ ¼å¼combineï¼‰
```

#### å•å›¾

[éšå½¢æ°´å°å·¥å…·](https://www.52pojie.cn/thread-709668-1-1.html)ï¼ˆé¡»åœ¨è™šæ‹Ÿæœºè¿è¡Œï¼‰

#### png

```sh
$zsteg 6.png --all #åˆ†æLSBï¼šhttps://github.com/zed-0xff/zstegï¼Œgem install zsteg
$stegpy -p flag.png #pngï¼Œbmpï¼Œgifï¼Œwebpï¼Œwavã€‚é¢œè‰²é€šé“æœ€ä½ä¸¤ä½çš„éšå†™ï¼Œå¦‚red/green/blue plane 0/1
>python2 D:\ctf\tools\misc\cloacked-pixel\lsb.py extract stego.png out 123456 #LSBåŠ å¯†éšå†™ï¼Œhttps://github.com/livz/cloacked-pixel
>D:\ctf\tools\misc\pngcheck-2.3.0-win32\pngcheck.exe -v sctf.png
D:\ctf\tools\misc\StegoTool>rRMS.exe #https://sourceforge.net/projects/stegtool/ï¼Œè½½ä½“å›¾åƒæ˜¯24ä½çš„BMPæ ¼å¼å›¾åƒï¼ŒImages->Stegoanalyisï¼ŒSymmetics Keyè¾“å…¥å¯†ç 
python D:\ctf\tools\misc\Depix\depix.py -p mosaic.png -s D:\ctf\tools\misc\Depix\images\searchimages\debruinseq_notepad_Windows10_closeAndSpaced.png #å»é™¤é©¬èµ›å…‹ï¼Œä»åƒç´ åŒ–æˆªå±ä¸­è¿˜åŸå¯†ç ï¼šhttps://github.com/beurtschipper/Depix
```

è‰²å½©ç±»å›¾ç‰‡ï¼š[npiet](https://www.bertnase.de/npiet/npiet-execute.php)å›¾ç‰‡ç¼–ç¨‹è¯­è¨€

[é£å„¿è¥¿PNGå›¾ç‰‡å®½é«˜ä¸€æŠŠæ¢­å·¥å…·](https://www.bilibili.com/video/BV1HL4y1P7T4/)

#### jpg

```sh
>D:\ctf\tools\misc\stegdetect\stegdetect.exe -s 10 like.jpg #http://ftp.mirrorservice.org/sites/ftp.wiretapped.net/pub/security/steganography/stegdetect/
>D:\ctf\tools\misc\OurSecret.exe #http://www.securekit.net/OurSecret.exe
D:\ctf\tools\misc\F5-steganography>java Extract lopez.jpg [-p password]
>D:\ctf\tools\misc\jphs05-jpg\jpseek.exe input.jpg out.txt #jphide
$steghide extract -sf 02.jpg #å…ˆsteghide infoæŸ¥çœ‹
$outguess -r /root/Desktop/angrybird.jpg -t 11.txt -k password #outguess
D:\ctf\tools\misc\JPEGsnoop_v1_8_0>JPEGsnoop.exe #http://www.impulseadventure.com/photo/jpeg-snoop.html
https://github.com/libjpeg-turbo/libjpeg-turboï¼Œé…åˆpythonçš„https://pypi.org/project/PyTurboJPEGåº“ #Colorful Strips, bluehat-2022, YCbCrè½¬RGB
```

#### qrcode

[qrazybox](https://merricx.github.io/qrazybox)ï¼Œæ•°å‡ºéœ€è¦å¤åŸqrcodeçš„å°ºå¯¸ï¼Œæ–°å»ºé¡¹ç›®åï¼Œåœ¨Editor Modeä¸­é€‰æ‹©å¯¹åº”çš„å°ºå¯¸ï¼Œç„¶åï¼Œå¯¹ç…§ç€æŠŠé»‘è‰²å—ç‚¹å‡ºæ¥ï¼Œå†åœ¨Decode Modeè§£ç ã€‚

[å¾®å¾®äºŒç»´ç ](https://pc.wwei.cn/)ï¼Œæ‰¹é‡è§£äºŒç»´ç ã€‚ï¼ˆsampleï¼šä¹å®«æ ¼ï¼Œç½‘é¼æ¯-2020æœ±é›€ç»„ï¼‰

[bctester](https://bctester.de/)ï¼Œå¯¼å‡ºäºŒç»´ç ä¸­äºŒè¿›åˆ¶ã€‚

#### mp3

```powershell
>D:\ctf\tools\misc\MP3Stego_1_1_18\MP3Stego\Decode.exe -X -P password 1.mp3
```

- [audacity](https://www.audacityteam.org/)ï¼šç‚¹å‡»å‘ä¸‹ç®­å¤´ï¼Œé€‰é¢‘è°±å›¾
- [silenteye](https://silenteye.v1kings.io/)
- MPEG_FRAME->MPEG_HEADERæœ‰ä¸€ä½[private_bit](https://www.cnpanda.net/ctf/342.html)æ˜¯ä¿ç•™ä½å¯ä»¥ç”¨äºéšå†™ï¼ˆsampleï¼š[private](https://blog.csdn.net/zerorzeror/article/details/127604534)ï¼Œxiangshan-2022ï¼‰

#### wav

[deepsound](http://jpinsoft.net/deepsound)

steghide extract -sf miao.wav

#### gif

```sh
>magick identify -format "%T" 14.gif #åŒLinuxä¸‹çš„identifyå‘½ä»¤ï¼Œ%T	image time delayï¼Œhttps://www.imagemagick.org/script/identify.php
```

#### avi

- [DeEgger Embedder](http://deegger-embedder.findmysoft.com)
- [msu_stegovideo](http://www.compression.ru/video/stego_video/index_en.html)

#### docx

- ctrl+Aå…¨é€‰->å³é”®Font->Effectså»æ‰å‹¾é€‰Hidden
- File->Options->Display->å‹¾é€‰Hidden text
- ä½¿ç”¨7zipè§£å‹docxï¼Œåœ¨word/document.xmlä¸­æŸ¥æ‰¾

#### flash(swf)

```sh
>D:\ctf\tools\stego\ffdec_11.2.0\ffdec.exe #å·¥å…·->æ–‡æœ¬æŸ¥æ‰¾ï¼ŒJPEXSï¼šhttps://www.free-decompiler.com/flash/
```

#### web

- [snowéšå†™](http://fog.misty.com/perry/ccs/snow/snow/snow.html)
- [ç©ºå­—ç¬¦åŠ å¯†](https://offdev.net/demos/zwsp-steg-js)ï¼šsampleï¼šbabywebï¼Œå®‰æ’202005æœˆèµ›ï¼Œ`decoded = zwsp_steg.decode(encoded)`
- é›¶å®½åº¦å­—ç¬¦çš„Unicodeéšå†™
  https://www.mzy0.com/ctftools/zerowidth1/
  https://330k.github.io/misc_tools/unicode_steganography.html
  https://yuanfux.github.io/zero-width-web/
- éŸ©æ–‡ç­‰å„ç§ç¼–ç ï¼šCyberChefï¼ŒText Encoding Brute Forceï¼Œé€‰Decodeæ¨¡å¼ã€‚sampleï¼š[sqlmapHell](https://blog.csdn.net/ZXW_NUDT/article/details/126582089)ï¼Œwangdingcup-2022ç™½è™

#### rar

- ä¿®æ”¹`RarBlockType`ä¸º`FILE_OR_DIRï¼ˆ116ï¼‰`ï¼šsampleï¼š[Unpleasant_music](http://since1994.cn/?p=198)ï¼Œwdb3rd-2018

#### pyc

```powershell
python3 D:\ctf\tools\misc\stegosaurus\stegosaurus.py -x .\leaf.pyc #https://github.com/AngelKitty/stegosaurus
```

## [æ‹¼å›¾](https://blog.csdn.net/jiuyongpinyin/article/details/121194836)

```
$ montage *.png -tile 4x4 -geometry +0+0 flag.png
$ gaps --image=flag.png --size=65 --save --generations=20 #65æ˜¯å°å›¾çš„åƒç´ 
```

fillterï¼ˆsampleï¼š[pintu](https://mp.weixin.qq.com/s/FGGceMvAZ9iRmIVIufBpBw)ï¼Œæ˜¥ç§‹æ¯2022ï¼‰

## æµé‡åˆ†æ

#### Wireshark

filterå†™æ³•çš„fieldå­—æ®µä¸æ˜ç¡®æ—¶ï¼Œå³é”®é€‰ä¸­å­—æ®µ->ä½œä¸ºè¿‡æ»¤å™¨åº”ç”¨->é€‰ä¸­ã€‚

###### æœªçŸ¥æµé‡ï¼ˆå®‰æ’æ¯201810æœˆèµ›ï¼‰

ç»Ÿè®¡->åè®®åˆ†çº§ï¼Œå‘ç°Secure Socket Layerï¼ˆsslï¼‰åè®®

æ•°æ®æŒ‰Lengthæ’åºï¼Œé€‰æ‹©é•¿åº¦è¾ƒé•¿çš„ï¼Œå³é”®Leftover Capture Data->æ˜¾ç¤ºåˆ†ç»„å­—èŠ‚ï¼Œå‘ç°ç±»ä¼¼ï¼š

```
CLIENT_RANDOM d4488ecfef5686ff40cdf9953ca41de340a91c1ad4a8e2eff393ef9c31aaeaad 4783b191795b6262bf59d49e7bb853271fdbb6bc9fc5b80f05ed5897cf8737f6380aae009e8c206daa693c7e01015b96
```

```
RSA <EPMS> <PMS>
RSA Session-ID:<SSLID> Master-Key:<MS>
CLIENT_RANDOM <CRAND> <MS>
PMS_CLIENT_RANDOM <CRAND> <PMS>
å…¶ä¸­å¦‚ä¸‹fieldéƒ½æ˜¯åå…­è¿›åˆ¶è¡¨ç¤ºï¼š
<EPMS>=First 8 bytes of the Encrypted PMS
<PMS>=The Pre-Master-Secret(PMS) used to derive the MS
<SSLID>=The SSL Session ID
<MS>=The Master-Secret(MS)
<CRAND>=The Client's random number from the ClientHello message
```

Master-Secret logæ ¼å¼ï¼Œsave as->ssl.log

åè®®è¿‡æ»¤å¤„å¡«sslï¼Œè¿‡æ»¤å‡ºsslåŒ…ï¼Œå³é”®->åè®®é¦–é€‰é¡¹->Open Secure Sockets Layer Preferencesï¼ŒSecure Socket Layeré¡µé¢ï¼Œ(Pre)-Master-Secret log filenameé€‰ä¸­ssl.log

###### [éå¸¸ç®€å•çš„æµé‡åˆ†æ](https://www.anquanke.com/post/id/171543#h3-5)ï¼ˆå®‰æ’æ¯201902æœˆèµ›ï¼‰

ç»Ÿè®¡->åè®®åˆ†çº§ï¼Œå‘ç°Encapsulating Security Payloadï¼ˆESPï¼‰åè®®

è¿‡æ»¤httpæµé‡åˆ†æåˆ°æœ‰robots.txtï¼Œå‘ç°abc.htmlï¼ˆä¹Ÿå¯ä»¥ç›´æ¥æ–‡ä»¶->å¯¼å‡ºå¯¹è±¡->HTTPå¾—åˆ°abc.htmlï¼‰ï¼Œå¾—åˆ°ï¼š

```
md5 0x99a98e067af6b09e64f3740767096c96
DES 0xb19b21e80c685bcb052988c11b987802d2f2808b2c2d8a0d    (129->143)
DES 0x684a0857b767672d52e161aa70f6bdd07c0264876559cb8b    (143->129)
```

åè®®è¿‡æ»¤å¤„å¡«espï¼Œè¿‡æ»¤å‡ºESPåŒ…ï¼Œå³é”®->åè®®é¦–é€‰é¡¹ï¼Œé€‰ä¸­Attempt to detect/decode encrypted ESP payloadsï¼Œç„¶åæ‰“å¼€ESP SAsï¼š

å¤åˆ¶å¯¹åº”ESP SPIå¡«å¥½ï¼ŒEncryptionå¤„å¦‚æœé€‰DES-CBCä¸è¡Œï¼Œå¯ä»¥å°è¯•TripleDES-CBCï¼ŒEncryption Keyå¡«å¯¹åº”DESå€¼ï¼ŒAuthenticationé€‰HMAC-MD5-96ï¼ŒAuthentication Keyå¡«å¯¹åº”md5å€¼ã€‚

å†è¿‡æ»¤åè®®httpï¼Œå³å¯çœ‹åˆ°urlå¸¦asciiç ï¼Œè§£ç å³å¯ã€‚

###### [DNSæµé‡](https://blog.csdn.net/qq_42815161/article/details/120010131)ï¼Œstealerï¼ˆDASCTF-202108ï¼‰

`D:\ctf\tools\web\Wireshark\tshark.exe  -r misc_dump.pcapng -T fields -e dns.qry.name -Y "ip.src==172.27.221.13"> hex`

###### [é”®ç›˜/é¼ æ ‡æµé‡](https://www.anquanke.com/post/id/85218)ï¼Œdifficult_programming_languageï¼ˆHCTF-2018ï¼‰

```sh
D:\ctf\tools\web\Wireshark\tshark.exe -r usb1.pcap -T fields -e usb.capdata > usbdata.txt #å°†usb.capdataæå–å‡ºtxtæ–‡ä»¶
```

é”®ç›˜æ ¼å¼ï¼š`02:00:07:00:00:00:00:00`ï¼Œæ•°æ®é•¿åº¦ä¸º8ä¸ªå­—èŠ‚ï¼Œ ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸º0x00æˆ–0x20è¡¨ç¤ºåŸå§‹å‡»é”®ï¼›ä¸º0x01è¡¨ç¤ºæŒ‰ä¸‹Ctrlï¼Œ0x02æ—¶è¡¨ç¤ºæŒ‰ä¸‹Shiftã€‚å‡»é”®ä¿¡æ¯é›†ä¸­åœ¨ç¬¬ä¸‰ä¸ªå­—èŠ‚ï¼Œè¡¨ç¤ºæ¯æ¬¡key strokeäº§ç”Ÿä¸€ä¸ªkeyboard event usb packetã€‚æ ¹æ®[é”®å€¼å¯¹åº”è¡¨](https://www.usb.org/sites/default/files/documents/hut1_12v2.pdf)ï¼ŒæŸ¥è¯¢å¯¹åº”å­—ç¬¦ã€‚

é¼ æ ‡æ ¼å¼ï¼š`02:ff:01:00`ï¼Œæ•°æ®é•¿åº¦ä¸º4ä¸ªå­—èŠ‚ ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚ä»£è¡¨æŒ‰é”®ï¼Œå½“å–0x00æ—¶ï¼Œä»£è¡¨æ²¡æœ‰æŒ‰é”®ï¼›ä¸º0x01æ—¶ï¼Œä»£è¡¨æŒ‰å·¦é”®ï¼›ä¸º0x02æ—¶ï¼Œä»£è¡¨å½“å‰æŒ‰é”®ä¸ºå³é”®ã€‚ç¬¬äºŒä¸ªå­—èŠ‚å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªsigned byteç±»å‹ï¼Œå…¶æœ€é«˜ä½ä¸ºç¬¦å·ä½ï¼Œå½“è¿™ä¸ªå€¼ä¸ºæ­£æ—¶ï¼Œä»£è¡¨é¼ æ ‡æ°´å¹³å³ç§»å¤šå°‘åƒç´ ï¼Œä¸ºè´Ÿæ—¶ï¼Œä»£è¡¨æ°´å¹³å·¦ç§»å¤šå°‘åƒç´ ã€‚ç¬¬ä¸‰ä¸ªå­—èŠ‚ä¸ç¬¬äºŒå­—èŠ‚ç±»ä¼¼ï¼Œä»£è¡¨å‚ç›´ä¸Šä¸‹ç§»åŠ¨çš„åç§»ã€‚ 

###### MySQLæµé‡ï¼šç¼–è¾‘->é¦–é€‰é¡¹->Protocol->MySQLï¼Œshow SQL Query string in INFO

###### [Not_Only_Wireshark](https://www.anquanke.com/post/id/168480)ï¼ˆRedhat-2018ï¼‰

```sh
D:\ctf\tools\packet\Wireshark\tshark.exe -e http.request.uri -T fields -r "Not Only Wireshark.pcapng" | grep -P 'name=[A-F0-9]{3}' | awk -F '=' '{printf $2}'
```

## [ç¼–ç åˆ†æ](https://www.cnblogs.com/mq0036/p/6544055.html)

#### emoji

sampleï¼š[å¥‡æ€ªçš„ç»„ç»‡](https://blog.xiafeng2333.top/ctf-30/)ï¼Œè™ç¬¦æ¯2020

- ###### [codemoji](https://codemoji.org/#/decrypt)

åˆ©ç”¨[CyberChef](https://gchq.github.io/CyberChef)å¯¹`{"message":"ğŸš„ğŸ‚ğŸ™ğŸ™ğŸ’¥â°ğŸ’¥ğŸ˜“ğŸ™ğŸ’¾","key":"ğŸ˜€"}`è¿›è¡Œbase64ç¼–ç ï¼Œæ‹¼æ¥ç½‘å€å¤´éƒ¨å¹¶è¿›è¡Œurlç¼–ç ï¼ˆ+æ”¹%2Bï¼Œå¦åˆ™é»˜è®¤ä¼šæ”¹æˆ%20ï¼‰ï¼Œå¾—åˆ°ï¼š`https://codemoji.org/share.html?data=eyJtZXNzYWdlIjoi8J%2BahPCfj4Lwn5CZ8J%2BQmfCfkqXij7Dwn5Kl8J%2BYk/CfkJnwn5K%2BIiwia2V5Ijoi8J%2BYgCJ9`ï¼Œè®¿é—®å³å¯è§£ã€‚

- [emojicode](https://github.com/emojicode/emojicode)ï¼š`emojicodec hello.emojic`

- [emoji-aes](https://aghorler.github.io/emoji-aes)

#### [Malbolge](http://www.lscheffer.com/malbolge.shtml)

é‡‡ç”¨asciiä¸­æ‰€æœ‰ï¼ˆ0x7e - 0x20 + 1 = 94ï¼‰ä¸ªéç©ºå­—ç¬¦è¿›è¡Œç¼–ç¨‹ï¼Œè¾“å…¥çš„å­—ç¬¦å’Œæ‰€åœ¨ä½ç½®ç›¸åŠ çš„å€¼å‡33æ¨¡94

```python
v = (ord(array[i]) - 33 + i) % 94
if v in target:
```

åªå…è®¸æ˜¯ï¼š[6, 7, 29, 35, 48, 65, 66, 84]ä¸­çš„ä¸€ä¸ªï¼Œå¯¹åº”xlatè¡¨ä¸­çš„å­—ç¬¦ï¼š`ji*p</vo`

```c
char xlat1[] =
  "+b(29e*j1VMEKLyC})8&m#~W>qxdRp0wkrUo[D7,XTcA\"lI"
  ".v%{gJh4G\\-=O@5`_3i<?Z';FNQuY]szf$!BS/|t:Pn6^Ha";
```

é‡‡ç”¨[malbolge-interpreter](https://github.com/kmyk/malbolge-interpreter)å¯è¿›è¡Œè§£ç æˆ–è¿è¡Œç¨‹åºï¼š

```powershell
D:\ctf\tools\stego\malbolge-interpreter>cat tests\helloworld.mal | python3 a.py xlat1
jpp<ppppp<pppp<<pp<ppp<pppp<ppppp<pp<ioooj/ojji</oiivoooi<ojvpoj/pvojj<j/o*jov/<ojjj*o/jj/oo/oooooopp<pppp<pppp<pp<v
D:\ctf\tools\stego\malbolge-interpreter>python3 a.py execute tests\helloworld.mal
Hello, world.
```

#### é”®ç›˜å¯†ç 

[Qwerty, Dvorak, Colemak, Workman and Russian keyboard](https://awsm-tools.com/text/keyboard-layout)ï¼ˆsampleï¼šQweauty and the Beastï¼Œez-ctf2022ï¼‰

## éå†ç ´è§£

###### [freq_game](http://url.cn/53xbcZq)ï¼ˆHCTF-2018ï¼‰

è§£æ³•ä¸€ï¼š[Fast Fourier Transformation](https://xz.aliyun.com/t/3253#toc-19)ï¼ˆFFTï¼Œå¿«é€Ÿå‚…ç«‹å¶å˜æ¢ï¼‰

```python
  freq_val=np.fft.fft(y)
  freq_val=map(abs,freq_val)
  freq_val_sorted=[i for i in freq_val]
  freq_val_sorted.sort(reverse=1)
  response=[]
  for j in range(4):
   response.append(
     min(freq_val.index(freq_val_sorted[j*2]),freq_val.index(freq_val_sorted[j*2+1])))
  print response
```

è§£æ³•äºŒï¼šéå†é¢„ç”ŸæˆæŸ¥è¯¢è¡¨

ä»mç§ä¸åŒå…ƒç´ é‡Œï¼Œæ¯æ¬¡å¯é‡å¤å–å‡ºnä¸ªå…ƒç´ [ç»„åˆ](https://baike.baidu.com/item/%E9%87%8D%E5%A4%8D%E7%BB%84%E5%90%88/6774375)ï¼Œç”¨çš„æ˜¯[éš”æ¿æ³•](https://zhidao.baidu.com/question/2140492467086245828.html)ã€‚

è®¾ç¬¬iä¸ªå…ƒç´ å–äº†xiæ¬¡ï¼Œåˆ™åŸé—®é¢˜ç›¸å½“äºx1+x2+...+xm=nçš„éè´Ÿæ•´æ•°è§£çš„ä¸ªæ•°ï¼Œå³y1+y2+...+ym=n+m(yi=xi+1)çš„æ­£æ•´æ•°è§£çš„ä¸ªæ•°ã€‚ç”¨éš”æ¿æ³•ï¼Œå°†n+mä¸ª1åˆ†ä¸ºnç»„ï¼Œæ¯ç»„è‡³å°‘ä¸€ä¸ªï¼Œç›¸å½“äºåœ¨æ‰€æœ‰1çš„n+m-1ä¸ªç©ºé‡Œæ’n-1ä¸ªæ¿å­ï¼Œå› æ­¤æ€»çš„æƒ…å†µæ•°æ˜¯

$$
C_{n+m-1}^{n-1} =\frac{(n+m-1)!}{n!*(m-1)!}
$$
å› æ­¤ä»0x00-0xffå…±256ç§å…ƒç´ æ¯æ¬¡å¯é‡å¤å–4ä¸ªå…ƒç´ ç»„åˆï¼Œå…±æœ‰æƒ…å†µï¼š`math.factorial(256+4-1) / (math.factorial(4) * math.factorial(256-1))=183181376`ç§ã€‚ç›´æ¥ç”Ÿæˆ4ä¸ªå­—èŠ‚çš„åŸå§‹è¡¨éœ€è¦è€—è´¹å¤§é‡æ—¶é—´å’Œç©ºé—´ã€‚

- å¯ä»¥å…ˆç”Ÿæˆ256ç§å…ƒç´ æ¯æ¬¡å¯é‡å¤å–2ä¸ªå­—èŠ‚å’Œçš„åŸå§‹è¡¨ï¼Œç”±äºè®¡ç®—æ–¹å¼ç›¸åŒï¼Œå¦ä¸¤ä¸ªå­—èŠ‚å’Œçš„å€¼ä¹Ÿå¯åœ¨æ­¤è¡¨æŸ¥åˆ°ï¼Œå†é€šè¿‡åæŸ¥è¡¨çš„æ–¹å¼ï¼ˆå¯¹äºæµ®ç‚¹æ•°å¤„ç†éœ€è¦æ³¨æ„ä¸‹ä¸€èŠ‚æåˆ°çš„ç²¾åº¦é—®é¢˜ï¼‰ç¡®è®¤å‰©ä¸‹ä¸¤ä¸ªå­—èŠ‚ã€‚

```python
for i in itertools.combinations_with_replacement([i for i in range(0x100)], 2):
    sum = get_number(x, i[0]) + get_number(x, i[1])
    sum_map[i] = y0 + y1 #æ­£å‘è¡¨
    revert_map[round(y0+y1, 14)] = i #åæŸ¥è¡¨
for i in sum_map:
    dis = round(y - sum_map[i], 14)
    if revert_map.has_key(dis):
      return i, revert_map[dis]
```

- å¯ä»¥ç”Ÿæˆ256ä¸­å…ƒç´ æ¯æ¬¡å¯é‡å¤å–2ä¸ªå­—èŠ‚å’Œçš„åŸå§‹è¡¨ï¼Œç”±äºå¦ä¸¤ä¸ªå’Œçš„å€¼ä¹Ÿå¯åœ¨æ­¤è¡¨æŸ¥åˆ°ï¼Œå› æ­¤é€šè¿‡[å¯»æ‰¾å’Œä¸ºå®šå€¼çš„ä¸¤ä¸ªæ•°](https://github.com/julycoding/The-Art-Of-Programming-By-July/blob/master/ebook/code/python/2.4%EF%BC%9A%E5%AF%BB%E6%89%BE%E5%92%8C%E4%B8%BA%E5%AE%9A%E5%80%BC%E7%9A%84%E4%B8%A4%E4%B8%AA%E6%95%B0.py)ç®—æ³•å¯ä»¥ç¡®å®šå“ªä¸¤ä¸ªå’Œå€¼ä¹‹å’Œä¸ºç›®æ ‡å€¼ã€‚å› ä¸ºæ­¤å¤„æ˜¯è®¡ç®—ä¹‹åçš„å’Œå€¼å’Œç›®æ ‡å€¼ç›´æ¥å¯¹æ¯”ï¼Œä¸å­˜åœ¨ç²¾åº¦æŸå¤±ï¼Œæ— éœ€è€ƒè™‘ç²¾åº¦é—®é¢˜ã€‚

```python
for i in itertools.combinations_with_replacement([i for i in range(0x100)], 2):
    sum_array.append((sum, i))
sum_array.sort(key=lambda i: i[0]) #æ’åº
def get_freq2(sum):  #get sum algorithm
  start = 0
  end = len(sum_array) - 1
  while start < end:
    result = sum_array[start][0] + sum_array[end][0]
    if result > sum:
      end -= 1
    elif result < sum:
      start += 1
    else:
      return sum_array[start][1], sum_array[end][1]
```

## æµ®ç‚¹æ•°floatå¤„ç†

å†…éƒ¨å¤„ç†æ—¶é»˜è®¤ä¿ç•™15ä½å°æ•°ï¼Œä½†ç›´æ¥printåªä¼šæ‰“å°10ä½å°æ•°

```python
>>> y = 18.300257482375283
>>> json.dumps(y) #'18.300257482375283'
>>> print y #18.3002574824
```

è¿›è¡Œç›¸ç­‰æ¯”è¾ƒæ—¶ï¼Œåªèƒ½è€ƒè™‘14ä½ç²¾åº¦

```python
if abs(sum_map[j] - v) < 1e-14: #ä¸èƒ½ç›´æ¥if sum_map[j] == v
revert_map[round(y0+y1, 14)] = i #æˆ–è€…å°†ç²¾åº¦é€šè¿‡roundè®¾ç½®åˆ°14ä½å°æ•°å†å¯¹æ¯”
dis = round(y - v, 14)
if revert_map.has_key(dis):
```

